const API_BASE = import.meta.env.VITE_API_BASE || 'http://localhost:8080'; export type ChatMessage={role:'user'|'assistant'|'system';content:string}; export async function chat(messages:ChatMessage[], model?:string){ const res=await fetch(`${API_BASE}/v1/chat/completions`,{ method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({model:model||'default',messages,stream:false})}); if(!res.ok) throw new Error('Chat request failed'); return res.json(); }